set(LLVM_TARGET_DEFINITIONS CSA.td)

tablegen(LLVM CSAGenAsmMatcher.inc -gen-asm-matcher)
tablegen(LLVM CSAGenRegisterInfo.inc -gen-register-info)
tablegen(LLVM CSAGenCSAOpInfo.inc -gen-csa-op-size)
tablegen(LLVM CSAGenInstrInfo.inc -gen-instr-info)
tablegen(LLVM CSAGenAsmWriter.inc -gen-asm-writer)
tablegen(LLVM CSAGenDAGISel.inc -gen-dag-isel)
tablegen(LLVM CSAGenCallingConv.inc -gen-callingconv)
tablegen(LLVM CSAGenSubtargetInfo.inc -gen-subtarget)
add_public_tablegen_target(CSACommonTableGen)

add_llvm_target(CSACodeGen
  CSAAllocUnitPass.cpp
  CSAAsmPrinter.cpp
  CSACvtCFDFPass.cpp
  CSADataflowCanonicalization.cpp
  CSADeadInstructionElim.cpp
  CSAFrameLowering.cpp
  CSAISelDAGToDAG.cpp
  CSAISelLowering.cpp
  CSAInstrInfo.cpp
  CSAIntrinsicCleaner.cpp
  CSALowerAggrCopies.cpp
  CSALoopIntrinsicExpander.cpp
  CSAMCInstLower.cpp
  CSAMachineFunctionInfo.cpp
  CSAOMPAllocaTypeFixer.cpp
  CSAOptDFPass.cpp
  CSARedundantMovElim.cpp
  CSARegisterInfo.cpp
  CSASelectionDAGInfo.cpp
  CSAStatistics.cpp
  CSAStreamingMemoryConversion.cpp
  CSASubtarget.cpp
  CSATargetMachine.cpp
  MachineCDG.cpp
  CSAExpandInlineAsm.cpp
  CSAMemopOrdering.cpp
  CSAIndependentMemopOrdering.cpp
  CSALicAllocation.cpp
  CSAIfConversion.cpp
  CSADFParLoopPass.cpp
  CSAFortranIntrinsics.cpp
  CSANormalizeDebugPass.cpp
  )

add_subdirectory(AsmParser)
add_subdirectory(InstPrinter)
add_subdirectory(TargetInfo)
add_subdirectory(MCTargetDesc)
add_subdirectory(FixupOmpEntries)
