# REQUIRES: intel_feature_isa_amx
# RUN: llvm-mc --disassemble %s -triple=x86_64-apple-darwin9 | FileCheck %s

# CHECK: ldtilecfg  268435456(%rbp,%r14,8)
0xc4,0xa2,0x78,0x49,0x84,0xf5,0x00,0x00,0x00,0x10

# CHECK: ldtilecfg  291(%r8,%rax,4)
0xc4,0xc2,0x78,0x49,0x84,0x80,0x23,0x01,0x00,0x00

# CHECK: ldtilecfg  (%rip)
0xc4,0xe2,0x78,0x49,0x05,0x00,0x00,0x00,0x00

# CHECK: ldtilecfg  -2048(,%rbp,2)
0xc4,0xe2,0x78,0x49,0x04,0x6d,0x00,0xf8,0xff,0xff

# CHECK: ldtilecfg  8128(%rcx)
0xc4,0xe2,0x78,0x49,0x81,0xc0,0x1f,0x00,0x00

# CHECK: ldtilecfg  -8192(%rdx)
0xc4,0xe2,0x78,0x49,0x82,0x00,0xe0,0xff,0xff

# CHECK: sttilecfg  268435456(%rbp,%r14,8)
0xc4,0xa2,0x79,0x49,0x84,0xf5,0x00,0x00,0x00,0x10

# CHECK: sttilecfg  291(%r8,%rax,4)
0xc4,0xc2,0x79,0x49,0x84,0x80,0x23,0x01,0x00,0x00

# CHECK: sttilecfg  (%rip)
0xc4,0xe2,0x79,0x49,0x05,0x00,0x00,0x00,0x00

# CHECK: sttilecfg  -2048(,%rbp,2)
0xc4,0xe2,0x79,0x49,0x04,0x6d,0x00,0xf8,0xff,0xff

# CHECK: sttilecfg  8128(%rcx)
0xc4,0xe2,0x79,0x49,0x81,0xc0,0x1f,0x00,0x00

# CHECK: sttilecfg  -8192(%rdx)
0xc4,0xe2,0x79,0x49,0x82,0x00,0xe0,0xff,0xff

# CHECK: tilerelease
0xc4,0xe2,0x78,0x49,0xc0

# CHECK: tilezero %tmm7
0xc4,0xc2,0x7b,0x49,0xf8

# CHECK: tilezero %tmm1
0xc4,0xc2,0x7b,0x49,0xc8

