// REQUIRES: intel_feature_isa_enqcmd
// RUN: llvm-mc -triple i386-unknown-unknown --show-encoding %s | FileCheck %s

// CHECK: enqcmd 268435456(%ebp,%eax,8), %esi
// CHECK: encoding: [0xf2,0x0f,0x38,0xf8,0xb4,0xc5,0x00,0x00,0x00,0x10]
enqcmd  0x10000000(%ebp, %eax, 8), %esi

// CHECK: enqcmd (%ecx), %edi
// CHECK: encoding: [0xf2,0x0f,0x38,0xf8,0x39]
enqcmd  (%ecx), %edi

// CHECK: enqcmd 8128(%ecx), %eax
// CHECK: encoding: [0xf2,0x0f,0x38,0xf8,0x81,0xc0,0x1f,0x00,0x00]
enqcmd  8128(%ecx), %eax

// CHECK: enqcmd -8192(%edx), %ebx
// CHECK: encoding: [0xf2,0x0f,0x38,0xf8,0x9a,0x00,0xe0,0xff,0xff]
enqcmd  -8192(%edx), %ebx

// CHECK: enqcmd 485498096, %eax
// CHECK: encoding: [0xf2,0x0f,0x38,0xf8,0x05,0xf0,0x1c,0xf0,0x1c]
enqcmd 485498096, %eax

// CHECK: enqcmds 268435456(%ebp,%eax,8), %esi
// CHECK: encoding: [0xf3,0x0f,0x38,0xf8,0xb4,0xc5,0x00,0x00,0x00,0x10]
enqcmds 0x10000000(%ebp, %eax, 8), %esi

// CHECK: enqcmds (%ecx), %edi
// CHECK: encoding: [0xf3,0x0f,0x38,0xf8,0x39]
enqcmds (%ecx), %edi

// CHECK: enqcmds 8128(%ecx), %eax
// CHECK: encoding: [0xf3,0x0f,0x38,0xf8,0x81,0xc0,0x1f,0x00,0x00]
enqcmds 8128(%ecx), %eax

// CHECK: enqcmds -8192(%edx), %ebx
// CHECK: encoding: [0xf3,0x0f,0x38,0xf8,0x9a,0x00,0xe0,0xff,0xff]
enqcmds -8192(%edx), %ebx

// CHECK: enqcmds 485498096, %eax
// CHECK: encoding: [0xf3,0x0f,0x38,0xf8,0x05,0xf0,0x1c,0xf0,0x1c]
enqcmds 485498096, %eax

// CHECK: enqcmd (%bx,%di), %di
// CHECK: encoding: [0x67,0xf2,0x0f,0x38,0xf8,0x39]
enqcmd  (%bx,%di), %di

// CHECK: enqcmd 8128(%bx,%di), %ax
// CHECK: encoding: [0x67,0xf2,0x0f,0x38,0xf8,0x81,0xc0,0x1f]
enqcmd  8128(%bx,%di), %ax

// CHECK: enqcmds (%bx,%di), %di
// CHECK: encoding: [0x67,0xf3,0x0f,0x38,0xf8,0x39]
enqcmds (%bx,%di), %di

// CHECK: enqcmds 8128(%bx,%di), %ax
// CHECK: encoding: [0x67,0xf3,0x0f,0x38,0xf8,0x81,0xc0,0x1f]
enqcmds 8128(%bx,%di), %ax
